<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>JavaScript Practice</title>
</head>
<body>
  <script>
    // Your JavaScript goes here!

   //create a function to choice randomly between roc, paper, and scissors
   function pickComputerChoice () {
    //creates varaible num with a random value between 1-3
    let num = (Math.floor(Math.random() * 3)+1) 
    let choice;
    //changes the random number to a random choice
    if (num === 1) {
        choice = "rock";
        console.log("Computer Choice is " + choice)
        return "rock"  
    } else if(num === 2){
        choice = "scissors";
        console.log("Computer Choice is " + choice)
        return "scissors"
    } else {
        choice = "paper";
        console.log("Computer Choice is " + choice)
        return "paper"
    }
   }

   //create a fucntion to ask the user what it chooses, then checks those choices to make sure it is valid
   function askUserChoice () {
    let num = prompt("Rock, Paper, or Scissors?"," "); 
    let val = false; //variable used to check if the input is valid
    while (val === false) {
        
        if (num === null || num ===undefined) {
            val = false
            num = prompt("Invalid entry, try again. Rock, Paper, or Scissors?"," ");
        }else {
            num = num.toLowerCase();
            num = num.trim();
            val = true
        }

        if (val === true && (num === "rock" || num === "paper" || num === "scissors")){
            
        }else{
            num = prompt("Invalid entry, try again. Rock, Paper, or Scissors?"," ");
        }
    }
    return num;
    }
  
   function chooseWinner (userChoice, computerChoice){
    let winner;
    if (computerChoice === userChoice){
        console.log("You tied! You both picked " + userChoice + "! No points for you this round!")
        return 0
    }else if ((computerChoice === "rock" & userChoice === "paper") || (computerChoice === "scissors" & userChoice === "rock") || (computerChoice === "paper" & userChoice === "scissors")){
        console.log("You won, " + userChoice + " beats " + computerChoice + "!")
        return 1
    }else if ((computerChoice === "rock" & userChoice === "scissors") || (computerChoice === "scissors" & userChoice === "paper") || (computerChoice === "paper" & userChoice === "rock")){
        console.log("You lost, " + computerChoice + " beats " + userChoice + "!")
        return 0
    }else {
        console.log("Couldnt play, user choice invalid") 
        return 0
    }
   }
   
   function game (rounds) {
    let score = 0;
    for (let i = 0; i < rounds; i++) {
        score = score + (chooseWinner(askUserChoice(), pickComputerChoice()))
        }
    if (score >= (rounds/2)){
        return ("Winner! You won " + score + " rounds out of " + rounds + " rounds!")
    }else if (score === 1){
        return ("You lost! You only won " + score + " round out of " + rounds + " rounds.") 
    }else {
        return ("You lost! You only won " + score + " rounds out of " + rounds + " rounds.") 
    }
   }

   console.log(game(5));
   
  </script>
</body>
</html>
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>JavaScript Practice</title>
  </head>
  <body>
    <h1 id="title">Rock, Paper, Scissors?</h1>
    <div id="container">
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
    </div>
    <div id="content"></div>
    <script>
      // Your JavaScript goes here!

      function pickComputerChoice() {
        //create a function to choice randomly between rock, paper, and scissors
        let num = Math.floor(Math.random() * 3) + 1; //creates variable num with a random value between 1-3
        if (num === 1) {
          //takes the variable number and converts it to a string, makes a console log sharing string, and returns string from function.
          return "rock";
        } else if (num === 2) {
          return "scissors";
        } else {
          return "paper";
        }
      }

      function playRound(userChoice, computerChoice) {
        //create a function to compare the user input and the computer choice to find a winner
        const content = document.querySelector("#content");
        const subHead = document.createElement("h3");
        subHead.classList.add("subHead");
        if (score >= 5) {
          return;
        }
        document.querySelector("#content");
        const para = document.createElement("p");
        para.classList.add("para");
        if (computerChoice === userChoice) {
          para.textContent =
            "You tied! You both picked " +
            userChoice +
            "! No points for you this round!";
          content.appendChild(para);
          rounds += 1;
          return;
        } else if (
          (computerChoice === "rock") & (userChoice === "paper") ||
          (computerChoice === "scissors") & (userChoice === "rock") ||
          (computerChoice === "paper") & (userChoice === "scissors")
        ) {
          para.textContent =
            "You won, " + userChoice + " beats " + computerChoice + "!";
          content.appendChild(para);
          score += 1;
          rounds += 1;
          if (score >= 5) {
            if (score === rounds / 2) {
              subHead.textContent = `Game Over! You tied! You won ${score} rounds out of ${rounds} rounds!`;
              content.appendChild(subHead);
              return;
            } else if (score > rounds / 2) {
              subHead.textContent = `Game Over! Winner! You won ${score} rounds out of ${rounds} rounds!`;
              content.appendChild(subHead);
              return;
            } else {
              subHead.textContent = `Game Over. You lost! You only won ${score} round out of ${rounds} rounds.`;
              content.appendChild(subHead);
              return;
            }
          }
          return;
        } else if (
          (computerChoice === "rock") & (userChoice === "scissors") ||
          (computerChoice === "scissors") & (userChoice === "paper") ||
          (computerChoice === "paper") & (userChoice === "rock")
        ) {
          para.textContent =
            "You lost, " + computerChoice + " beats " + userChoice + "!";
          content.appendChild(para);
          rounds += 1;
          return;
        } else {
          para.textContent = "Couldn't play, user choice invalid";
          content.appendChild(para);
          return;
        }
      }

      let score = 0;
      let rounds = 0;
      const buttons = document.querySelectorAll("button");
      buttons.forEach((button) => {
        button.addEventListener("click", () => {
          playRound(button.id, pickComputerChoice());
          console.log(`Score: ${score} Rounds: ${rounds}`);
        });
      });

      console.log(score);
    </script>
  </body>
</html>
